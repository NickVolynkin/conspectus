# Инструменты DDD

*Артем Малышев*

* Сложность бывает разная, мы должны уменьшать привнесенную сложность и увеличивать естественую, делать проект полезнее. 
* DDD - писать софт с том же стиле, в котором говорим с экспертами в предметной области, все подходы, наименования должны быть сохранены. 
* Это улучшает читаемость для нетехнических спецов
* Говорить с экспертами от бизнеса на одном языке, в одном контексте. 
* Не технология, а философия
* Как привнести? Освоить техническую часть. 
* Книга вышла лет 18 назад, но все попытки что-то писать в таком стиле - не понятно как ее применять
* Как мыслить и писать в ддд, если ты программист. 
* Как лучше всего ддд привносить в проект, как структурировать. Models-driven architecture, на первое место ставим модель внешнего мира. SmartUI - место, где есть выбор технологи.й отсылка к чистой архитектуре по слоям. 
* Что такое модель? Это не UML. Это набор классов методов и референсов, который отражает бизнес-сценарии, происходящие в программе, высокоуровневую модель данных, по которой принимаются решения на основе бизнес-кейсов. Но методы и классы - низкоуровневые. 

## DRY Python. - библиотека для DDD

* DRY Python - библиотеки для проектирования MDA. 
* Сервисы - это описание бизнес-процессов. 
* Библиотека stories - как писать бизнес истории и выносить в продукт. Описание процесса и состояние, реализация каждого шага бизнес-сценарий не смешивать, три разные вещи. 
* добавляем в джанго проект пакет services и постепенно переписываем на сценарии. позволяет писать спеки на DSL. Способ пошагово описать происходящее. 
* Опишем контракт, обозначим скоуп переменных и набор валидаторов. состояние процесса упадет на ошибке. 
* Пишем реализацию каждого шага. Метод соответствует бизнес-шагам, получает на вход состояние, напрямую модифицировать не может. Вернет маркер, например, успех, положи в скоуп переменные. 
*  Story - объект, который работает как метод, делает трек происходящего в бизнес-процессе. 
* DEbug toolbar - посмотреть реквесты и состояния на каждый сценарий. Аналогично на Pytest. 
* Sentry: в breadcrumbs отчет о действиях пользователей. 
* ELK - пилится плагин для ElasticSearchKibana с индексами, можно будет искать. 
